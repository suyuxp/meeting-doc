.. _entry_organ:

团队报名
===========

描述
-----------

团队报名是指机构组织学员统一申请参加会议。


现状
^^^^^^^^^^^^

目前，是由招生组将报名的电子表格发给各个机构的负责人，
机构负责人填报好电子表格后，再返回给招生组负责人，
然后再由招生组负责人导入系统。

这个过程非常的不方便，存在以下问题难以解决。

#. 报名学员的任何变更，都需要招生组负责人修订
#. 电子表格经常被填写人随意修改，造成无法导入
#. 电子表格中经常有错误的数据格式，无法及时发现
#. 对于会议特定的数据项，需要单独设置电子表格

因此，团队报名必须要重新设计。


需求
------------

基本流程图
^^^^^^^^^^^^

.. graphviz::

    digraph flow {
        margin = 0.5;
        bgcolor = "transparent";
        rankdir = TB;
        size = "5,8";

        node [shape="record"];
        edge [style="dashed"];

        a [label="{开始}", style="filled", fillcolor="chartreuse", color="black"];
        b [label="{登记机构信息}"];

        {
            ranke = "same";
            c [label="{线上批量填报}"];
        }

        d [label="审核通过否?", shape="diamond"];
        f [label="{整体入库}"];
        g [label="{结束}", style="filled", fillcolor="chartreuse"];

        node [shape="point", width=0, height=0];

        a -> b [label="招生组联系机构对接人"];
        b -> c -> d;
        d -> f [label="通过"];
        f -> g;

        {
            rank = "same";
            e;
            edge [fontcolor="red", color="red", arrowhead="none"];
            d -> e [label="未通过"];
            e -> s1;
        }

        s1 -> c [color="red"];
    }


用例描述
----------------------------

【UC-20201】登记报名机构
^^^^^^^^^^^^^^^^^^^^^^^^^^^^

文档信息
""""""""""""""""""""""""""""

* 编号: UC-20201
* 标题: 登记报名机构
* 作者: Su Yu <suyu@intermaker.cn>
* 版本: 1.0
* 状态: 规划
* 日期: 2019-01-19

用户故事
"""""""""""""""""""""""""""

| 作为学习会的招生负责人，
| 我想要给一些机构的对接人授权，
| 方便其自助在线上进行团队报名，
| 以减少电子表格的填写与导入时的差错问题与即时性不足的问题。


前置条件
"""""""""""""""""""""""""""

#. 会议已经创建并启动报名
#. 会议填报项已经设置就绪
#. 审核流程已经配置就绪
#. 已经与机构负责人在线下沟通并确认

基本流程
"""""""""""""""""""""""""""

1. 【招生负责人】登记机构基本信息
2. 【系统】生成临时授权码
3. 【系统】生成临时团报登记网址
4. 【系统】通知该机构对接人


替代流程/异常流程
"""""""""""""""""""""""""""

**(1-a) 机构重复登记**

* 发现机构重复
* 提示招生负责人
* 中止流程

**(1-b) 对接人重复登记**

* 发现对接人重复
* 提示招生负责人
* 由招生负责人确认是否中止流程

**(1-c) 由对接人登记基本信息**

1. 【招生负责人】推送团队登记网址
2. 【对接人】登记机构基本信息并提交
3. 【招生负责人】确认机构信息
    * 如果不正确，标识机构信息不完整，线下提示对接人继续修改
    * 如果信息无误，标识机构信息完整，进入基本流程第`2`步

**(1-d) 修订机构信息**

1. 【招生负责人】根据实际情况，变更机构对接人信息
2. 【系统】重新执行基本流程第2步，授权码需变更

**(1-e) 中止该机构的填报**

1. 【招生负责人】根据实际情况，将该机构设置为不可填报
2. 【系统】消息通知提示对接人
3. 【系统】关闭填报通道


完成条件
"""""""""""""""""""""""""""

#. 发送消息给机构对接人


说明
"""""""""""""""""""""""""""

#. 本阶段不考虑 `1-c` 的替代方案
#. 消息通知方式包括：短信
#. 授权码、团报登记网址，仅限于指定会议




【UC-20202】登记团队学员资料
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

文档信息
""""""""""""""""""""""""""""

* 编号: UC-20202
* 标题: 登记团队学员资料
* 作者: Su Yu <suyu@intermaker.cn>
* 版本: 1.0
* 状态: 规划
* 日期: 2019-01-19

用户故事
"""""""""""""""""""""""""""

| 作为团报机构的对接人，
| 需要我快速而准确的填报由本机构负责的团队人员信息，
| 如果能够在线上方便的操作，
| 可大大减少电子表格带来的学员信息变更困难和提交不及时的问题。


前置条件
"""""""""""""""""""""""""""

#. 已经获得团报登记网址与机构团报授权码
#. 线下已经获得团队学员的信息
#. 目前学习会对本机构的授权有效，并未关闭
#. 目前团队报名通道尚未关闭

基本流程
"""""""""""""""""""""""""""

1. 【机构对接人】登记已知团队学员的机构申报单
2. 【招生负责人】审核确认 [#]_ 
3. 【系统】登记团报学员名单
4. 【机构对接人】调整团队学员的报名申报单，跳转至第`2`步


替代流程/异常流程
"""""""""""""""""""""""""""

**(2-a) 部分学员审核不通过**

* 【招生负责人】勾选出该部分学员
* 【系统】标记为黑名单
    1. 系统不会登记在黑名单中的学员进入学习会团报名单
    2. 系统也不删除这些学员，以防止机构再次填报
* 【系统】通知机构负责人


**(3-a) 机构申报的学员已经登记，但未缴费**

* 无论其是否审核通过，均转入团报名单中
* 通知学员本人

**(3-b) 机构申报的学员已经登记，且已经缴费**

* 系统在机构申报单中标识
* 通知机构负责人


**(4-a) 部分学员不能参会登记**

* 在机构申报单中明确标识，不删除
* 通知招生负责人
* 【系统】从学习会团报名单中移除，以准确统计招生人数


**(4-b) 部分学员资料有变更**

* 在机构申报单中标识
* 通知招生负责人
* 【招生负责人】重新审核
    1. 符合条件，【系统】在团报名单中同步变更
    2. 不符合条件，【系统】从学习会团报名单中移出


完成条件
"""""""""""""""""""""""""""

#. 机构申请名单符合条件的，均登记进学习会团报名单


说明
"""""""""""""""""""""""""""

#. 本用例中所有操作，仅限于 `PC` 终端
#. 机构团报为一独立的操作界面，无需授权


-------

.. [#] 审核相关资料，可参考 《:ref:`entry_audit`》